/* 
 * mermaid.css - Premium Enhancements for Shadow DOM
 */

.mermaid {
  display: flex !important;
  justify-content: center !important;
  width: 100% !important;
  padding: 24px 10px !important;
  background: transparent !important;
  box-sizing: border-box !important;
  transition: opacity 0.3s ease;
}

/* Ensure text is always readable regardless of parent color: inherit */
.mermaid text,
.mermaid .actor text,
.mermaid .messageText,
.mermaid .label text,
.mermaid .edgeLabel,
.mermaid .taskText,
.mermaid .sectionText {
  font-family: var(--font-sans, 'Outfit', sans-serif) !important;
  font-weight: 500 !important;
}

/* Better Arrowheads and Lines */
.mermaid .marker,
.mermaid .path {
  stroke-width: 1.5px !important;
}

/* Mindmap Specific Overrides - prevents text from going under graph circles */
.mermaid .mindmap-node text {
  font-size: 14px !important;
  dominant-baseline: middle !important;
}

/* Fix for HTML Labels (p tags causing bottom overflow) */
.mermaid .nodeLabel p {
  margin: 0 !important;
  line-height: 1.2 !important;
}

.mermaid .mindmap-node rect,
.mermaid .mindmap-node circle,
.mermaid .mindmap-node ellipse,
.mermaid .mindmap-node polygon,
.mermaid .mindmap-node path {
  fill: var(--color-bg-secondary, #f6f8fa) !important;
  stroke: var(--color-accent-primary, #0366d6) !important;
  stroke-width: 1.5px !important;
}

/* High-contrast labels for Flowchart/Sequence */
.mermaid .edgeLabel rect {
  fill: var(--color-bg-primary, white) !important;
  opacity: 0.9;
}

/* Dark mode specific fine-tuning via class check on shadow root if possible, 
   but since variables are available, we use them. */
.shadow-wrapper.dark .mermaid .edgeLabel {
  fill: #c9d1d9 !important;
}
